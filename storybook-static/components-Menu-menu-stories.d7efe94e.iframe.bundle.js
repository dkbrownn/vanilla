"use strict";(self.webpackChunkvanilla_react_dkbrownn=self.webpackChunkvanilla_react_dkbrownn||[]).push([[491],{"./src/components/Menu/menu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HorizontalMenu:()=>HorizontalMenu,VertialMenu:()=>VertialMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>menu_stories});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MenuContext=(0,react.createContext)({index:"0"}),Menu=_ref=>{let{defaultIndex,className,mode="horizontal",style,children,onSelect,defaultOpenSubMenus=[]}=_ref;const[currentActive,setActive]=(0,react.useState)(defaultIndex),classes=classnames_default()("vanilla-menu",className,{[`menu-${mode}`]:mode}),passedContext={index:currentActive||"0",onSelect:index=>{setActive(index),onSelect&&onSelect(index)},mode,defaultOpenSubMenus};return(0,jsx_runtime.jsx)("ul",{className:classes,style,"data-testid":"test-menu",children:(0,jsx_runtime.jsx)(MenuContext.Provider,{value:passedContext,children:react.Children.map(children,((child,index)=>{const childElement=child,{displayName}=childElement.type;if("MenuItem"===displayName||"SubMenu"===displayName)return react.cloneElement(childElement,{index:String(index)});console.error("Warning: Menu has a child which is not a MenuItem Component")}))})})};Menu.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{defaultIndex:{required:!1,tsType:{name:"string"},description:"默认选择菜单项"},className:{required:!1,tsType:{name:"string"},description:"可扩展类名"},mode:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"菜单类型 横向或者纵向",defaultValue:{value:'"horizontal"',computed:!1}},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"选项的自定义 style"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedIndex: string) => void",signature:{arguments:[{type:{name:"string"},name:"selectedIndex"}],return:{name:"void"}}},description:"点击菜单项触发的回掉函数"},defaultOpenSubMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"设置子菜单的默认打开 只在纵向模式下生效",defaultValue:{value:"[]",computed:!1}}}};const MenuItem=_ref=>{let{index,disabled,className,style,children}=_ref;const context=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item",className,{"is-disabled":disabled,"is-active":index===context.index});return(0,jsx_runtime.jsx)("li",{className:classes,style,onClick:()=>{context.onSelect&&!disabled&&"string"==typeof index&&context.onSelect(index)},children})};MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{index:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"选项是否被禁用"},className:{required:!1,tsType:{name:"string"},description:"可扩展类名"},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"选项的自定义 style"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var icon=__webpack_require__("./src/components/Icon/icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");const SubMenu=_ref=>{let{index,title,className,children}=_ref;const context=(0,react.useContext)(MenuContext),openedSubMenus=context.defaultOpenSubMenus,isOpend=!(!index||"vertical"!==context.mode)&&(null==openedSubMenus?void 0:openedSubMenus.includes(index)),[menuOpen,setOpen]=(0,react.useState)(isOpend),classes=classnames_default()("menu-item submenu-item",className,{"is-active":context.index===index,"is-opened":menuOpen,"is-vertical":"vertical"===context.mode});let timer;const handleMouse=(e,toggle)=>{clearTimeout(timer),e.preventDefault(),timer=setTimeout((()=>{setOpen(toggle)}),300)},hoverEvents="horizontal"===context.mode?{onMouseEnter:e=>{handleMouse(e,!0)},onMouseLeave:e=>{handleMouse(e,!1)}}:{},clickEvents="vertical"===context.mode?{onClick:e=>{e.preventDefault(),setOpen(!menuOpen)}}:{};return(0,jsx_runtime.jsxs)("li",{className:classes,...hoverEvents,children:[(0,jsx_runtime.jsxs)("div",{className:"submenu-title",...clickEvents,children:[title,(0,jsx_runtime.jsx)(icon.I,{icon:"angle-down",className:"arrow-icon"})]}),(()=>{const subMenuClasses=classnames_default()("vanilla-submenu",{"menu-opened":menuOpen}),childrenComponent=react.Children.map(children,((child,i)=>{const childElement=child;if("MenuItem"===childElement.type.displayName)return react.cloneElement(childElement,{index:`${index}-${i}`});console.error("Warning: Menu has a child which is not a MenuItem Component")}));return(0,jsx_runtime.jsx)(transition.e,{in:menuOpen,timeout:300,classNames:"zoom-in-top",appear:!0,unmountOnExit:!0,children:(0,jsx_runtime.jsx)("ul",{className:subMenuClasses,children:childrenComponent})})})()]},index)};SubMenu.displayName="SubMenu",SubMenu.__docgenInfo={description:"",methods:[],displayName:"SubMenu",props:{index:{required:!1,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:"下拉菜单选项的内容"},className:{required:!1,tsType:{name:"string"},description:"下拉菜单选型的扩展类名"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const menu_stories={title:"Menu组件",component:Menu,subcomponents:{MenuItem,SubMenu}},HorizontalMenu={args:{mode:"horizontal",defaultIndex:"0"},render:args=>(0,jsx_runtime.jsxs)(Menu,{...args,children:[(0,jsx_runtime.jsx)(MenuItem,{children:"menu1"}),(0,jsx_runtime.jsx)(MenuItem,{disabled:!0,children:"menu2"}),(0,jsx_runtime.jsx)(MenuItem,{children:"menu3"}),(0,jsx_runtime.jsxs)(SubMenu,{title:"dropDown",children:[(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown1"}),(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown2"}),(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown3"})]})]}),storyName:"默认的Menu"},VertialMenu={args:{mode:"vertical",defaultIndex:"0",defaultOpenSubMenus:["3"]},render:args=>(0,jsx_runtime.jsxs)(Menu,{...args,children:[(0,jsx_runtime.jsx)(MenuItem,{children:"menu1"}),(0,jsx_runtime.jsx)(MenuItem,{children:"menu2"}),(0,jsx_runtime.jsx)(MenuItem,{children:"menu3"}),(0,jsx_runtime.jsxs)(SubMenu,{title:"dropDown",children:[(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown1"}),(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown2"}),(0,jsx_runtime.jsx)(MenuItem,{children:"dropDown3"})]})]}),storyName:"默认展开的纵向Menu"},__namedExportsOrder=["HorizontalMenu","VertialMenu"];HorizontalMenu.parameters={...HorizontalMenu.parameters,docs:{...HorizontalMenu.parameters?.docs,source:{originalSource:'{\n  args: {\n    mode: "horizontal",\n    defaultIndex: "0"\n  },\n  render: args => <Menu {...args}>\r\n      <MenuItem>menu1</MenuItem>\r\n      <MenuItem disabled>menu2</MenuItem>\r\n      <MenuItem>menu3</MenuItem>\r\n      <SubMenu title="dropDown">\r\n        <MenuItem>dropDown1</MenuItem>\r\n        <MenuItem>dropDown2</MenuItem>\r\n        <MenuItem>dropDown3</MenuItem>\r\n      </SubMenu>\r\n    </Menu>\n}',...HorizontalMenu.parameters?.docs?.source}}},VertialMenu.parameters={...VertialMenu.parameters,docs:{...VertialMenu.parameters?.docs,source:{originalSource:'{\n  args: {\n    mode: "vertical",\n    defaultIndex: "0",\n    defaultOpenSubMenus: ["3"]\n  },\n  render: args => <Menu {...args}>\r\n      <MenuItem>menu1</MenuItem>\r\n      <MenuItem>menu2</MenuItem>\r\n      <MenuItem>menu3</MenuItem>\r\n      <SubMenu title="dropDown">\r\n        <MenuItem>dropDown1</MenuItem>\r\n        <MenuItem>dropDown2</MenuItem>\r\n        <MenuItem>dropDown3</MenuItem>\r\n      </SubMenu>\r\n    </Menu>\n}',...VertialMenu.parameters?.docs?.source}}}},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>Icon});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=_ref=>{let{theme,className,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("vanilla-icon",className,{[`vanilla-icon-${theme}`]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.g,{className:classes,...restProps})};Icon.__docgenInfo={description:'提供了一套常用的图标集合 基y于react-fontawesome。\r\n\r\n支持 react-fontawesome的所有属性 可以在这里查询 https://github.com/FortAwesome/react-fontawesome#basic\r\n\r\n支持 fontawesome 所有 free-solid-icons，可以在这里查看所有图标 https://fontawesome.com/icons?d=gallery&s=solid&m=free\r\n\r\n##引用方法\r\n~~~js\r\nimport { Icon } from "vanilla-react-dkbrownn"\r\n~~~',methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'light' | 'dark'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"图标主题色"},size:{required:!1,tsType:{name:"SizeProp"},description:"图标尺寸"},icon:{required:!0,tsType:{name:"IconProp"},description:"图标类型"}},composes:["FontAwesomeIconProps"]}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>Transition});__webpack_require__("./node_modules/react/index.js");var react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{children,classNames,animation,appear=!0,wrapper,unmountOnExit=!0,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{classNames:classNames||animation,appear:!0,unmountOnExit:!0,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})};Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:"'zoom-in-top' | 'zoom-in-left' | 'zoom-in-bottom' | 'zoom-in-right'",elements:[{name:"literal",value:"'zoom-in-top'"},{name:"literal",value:"'zoom-in-left'"},{name:"literal",value:"'zoom-in-bottom'"},{name:"literal",value:"'zoom-in-right'"}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:""},appear:{defaultValue:{value:"true",computed:!1},required:!1},unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1}}}}}]);