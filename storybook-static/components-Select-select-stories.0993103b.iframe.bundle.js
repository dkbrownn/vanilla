"use strict";(self.webpackChunkvanilla_react_dkbrownn=self.webpackChunkvanilla_react_dkbrownn||[]).push([[629],{"./src/components/Select/select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultType:()=>DefaultType,DisabledType:()=>DisabledType,MultipleType:()=>MultipleType,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _select__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Select/select.tsx"),_option__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Select/option.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Select组件",component:_select__WEBPACK_IMPORTED_MODULE_1__.l,subcomponents:{Option:_option__WEBPACK_IMPORTED_MODULE_2__.c}},DefaultType=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_select__WEBPACK_IMPORTED_MODULE_1__.l,{placeholder:"请选择一项",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项3"})]});DefaultType.storyName="默认单选的Select";const MultipleType=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_select__WEBPACK_IMPORTED_MODULE_1__.l,{placeholder:"请选择",multiple:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项3"})]});MultipleType.storyName="多选的Select";const DisabledType=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_select__WEBPACK_IMPORTED_MODULE_1__.l,{placeholder:"该文本框已被禁用",multiple:!0,disabled:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_option__WEBPACK_IMPORTED_MODULE_2__.c,{value:"选项2"})]});DisabledType.storyName="禁用的Select";const __namedExportsOrder=["DefaultType","MultipleType","DisabledType"];DefaultType.parameters={...DefaultType.parameters,docs:{...DefaultType.parameters?.docs,source:{originalSource:'() => <Select placeholder="请选择一项">\r\n    <Option value="选项1"></Option>\r\n    <Option value="选项2"></Option>\r\n    <Option value="选项3"></Option>\r\n  </Select>',...DefaultType.parameters?.docs?.source}}},MultipleType.parameters={...MultipleType.parameters,docs:{...MultipleType.parameters?.docs,source:{originalSource:'() => <Select placeholder="请选择" multiple>\r\n    <Option value="选项1"></Option>\r\n    <Option value="选项2"></Option>\r\n    <Option value="选项3"></Option>\r\n  </Select>',...MultipleType.parameters?.docs?.source}}},DisabledType.parameters={...DisabledType.parameters,docs:{...DisabledType.parameters?.docs,source:{originalSource:'() => <Select placeholder="该文本框已被禁用" multiple disabled>\r\n    <Option value="选项1"></Option>\r\n    <Option value="选项2"></Option>\r\n    <Option value="选项2"></Option>\r\n  </Select>',...DisabledType.parameters?.docs?.source}}}},"./src/Hooks/useClickOutside.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>useClickOutside});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useClickOutside=(ref,handler)=>{(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const listener=event=>{var _ref$current;console.log(ref.current,event.target,null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.contains(event.target));const ele=event.target;!ref.current||ref.current.contains(ele)||ele.closest(".icon-check")||handler(event)};return document.addEventListener("click",listener),()=>{document.removeEventListener("click",listener)}}),[ref,handler])}},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>Icon});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=_ref=>{let{theme,className,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("vanilla-icon",className,{[`vanilla-icon-${theme}`]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.g,{className:classes,...restProps})};Icon.__docgenInfo={description:'提供了一套常用的图标集合 基y于react-fontawesome。\r\n\r\n支持 react-fontawesome的所有属性 可以在这里查询 https://github.com/FortAwesome/react-fontawesome#basic\r\n\r\n支持 fontawesome 所有 free-solid-icons，可以在这里查看所有图标 https://fontawesome.com/icons?d=gallery&s=solid&m=free\r\n\r\n##引用方法\r\n~~~js\r\nimport { Icon } from "vanilla-react"\r\n~~~',methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'light' | 'dark'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"图标主题色"},size:{required:!1,tsType:{name:"SizeProp"},description:"图标尺寸"},icon:{required:!0,tsType:{name:"IconProp"},description:"图标类型"}},composes:["FontAwesomeIconProps"]}},"./src/components/Input/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Icon_icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icon/icon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Input=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((_ref,ref)=>{let{size,icon,prepend,append,disabled=!1,style,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("vanilla-input-wrapper",{"is-disabled":disabled,[`input-size-${size}`]:size,"input-group":prepend||append,"input-group-append":!!append,"input-group-prepend":!!prepend});var value;return"value"in restProps&&(delete restProps.defaultValue,restProps.value=null==(value=restProps.value)?"":value),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:classes,style,"data-testid":"test-wrapper",children:[prepend&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"vanilla-input-group-prepend","data-testid":"test-prepend",children:prepend}),icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"icon-wrapper","data-testid":"test-icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_2__.I,{icon,title:`title-${icon}`})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref,className:"vanilla-input-inner",...restProps,disabled,"data-testid":"test-input"}),append&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"vanilla-input-group-append","data-testid":"test-append",children:append})]})}));Input.__docgenInfo={description:"",methods:[],displayName:"Input",props:{size:{required:!1,tsType:{name:"union",raw:'"lg" | "medium" | "sm"',elements:[{name:"literal",value:'"lg"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"sm"'}]},description:"输入框的尺寸"},icon:{required:!1,tsType:{name:"IconProp"},description:"输入框支持的icon"},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用输入框",defaultValue:{value:"false",computed:!1}},prepend:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"输入框前缀"},append:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"输入框后缀"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""}},composes:["Omit"]}},"./src/components/Select/option.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>Option});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Icon_icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icon/icon.tsx"),_select__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Select/select.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Option=_ref=>{let{index,value,label,disabled,children}=_ref;const{onSelect,selectedValues,multiple}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_select__WEBPACK_IMPORTED_MODULE_3__.C),isSelected=selectedValues.includes(value),classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("vanilla-select-option",{"is-disabled":disabled,"is-selected":isSelected});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("li",{className:classes,onClick:e=>((e,value,isSelected)=>{e.preventDefault(),onSelect&&!disabled&&onSelect(value,isSelected)})(e,value,isSelected),children:[children||label||value,!disabled&&multiple&&isSelected&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_2__.I,{icon:"check",className:"icon-check"})]},index)};Option.displayName="Option",Option.__docgenInfo={description:"",methods:[],displayName:"Option",props:{index:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"string"},description:"默认根据此属性值进行筛选，该值不能相同"},label:{required:!1,tsType:{name:"string"},description:"选项的标签，若不设置则默认与 value 相同"},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用该选项"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/components/Select/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>SelectContext,l:()=>Select});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Input_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Input/input.tsx"),_Hooks_useClickOutside__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Hooks/useClickOutside.ts"),_Transition_transition__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Transition/transition.tsx"),_Icon_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Icon/icon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SelectContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({selectedValues:[]}),Select=_ref=>{let{defaultValue,placeholder,disabled,multiple,name,isShow=!1,onChange,onVisibleChange,children}=_ref;const containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),input=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[menuOpen,setMenuOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("string"==typeof defaultValue?defaultValue:""),[selectedValues,setSelectedValues]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Array.isArray(defaultValue)?defaultValue:[]);(0,_Hooks_useClickOutside__WEBPACK_IMPORTED_MODULE_3__.L)(containerRef,(()=>{setMenuOpen(!1),onVisibleChange&&menuOpen&&onVisibleChange(!1)}));const handleOptionClick=(value,isSelected)=>{multiple?setValue(""):(setMenuOpen(!1),setValue(value),onVisibleChange&&onVisibleChange(!1));let updatedValues=[value];multiple&&(updatedValues=isSelected?selectedValues.filter((v=>v!==value)):[...selectedValues,value],setSelectedValues(updatedValues)),onChange&&onChange(value,updatedValues)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{console.log("111",input.current),input.current&&(input.current.focus(),multiple&&selectedValues.length>0?input.current.placeholder="":placeholder&&(input.current.placeholder=placeholder))}),[selectedValues,multiple,placeholder]);const wrapperClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("vanilla-select",{"menu-is-open":menuOpen,"is-disabled":disabled,"is-multiple":multiple}),passedContext={onSelect:handleOptionClick,selectedValues:multiple?selectedValues:value,multiple};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:wrapperClasses,ref:containerRef,children:[isShow&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"show-wrapper",style:{padding:".5rem"},children:["当前值：",multiple?selectedValues.map(((value,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:value},index))):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:value})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"vanilla-select-input",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Input_input__WEBPACK_IMPORTED_MODULE_2__.p,{ref:input,disabled,placeholder,readOnly:!0,value,name,icon:"angle-down",onClick:e=>{e.preventDefault(),disabled||(setMenuOpen(!0),onVisibleChange&&onVisibleChange(!menuOpen))}}),multiple&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"vanilla-selected-tags",children:selectedValues.map(((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("span",{className:"vanilla-tag",children:[item,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_5__.I,{icon:"times",onClick:()=>handleOptionClick(item,!0)})]},`tag-${index}`)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(SelectContext.Provider,{value:passedContext,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Transition_transition__WEBPACK_IMPORTED_MODULE_4__.e,{in:menuOpen,timeout:300,animation:"zoom-in-top",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"vanilla-select-dropdown",children:(()=>{const NodeList={};return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children,((child,index)=>{const childElement=child,value=childElement.props.value;if("Option"===childElement.type.displayName)return NodeList[value]?(console.error("Warning: Options can not have a equal value"),react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(childElement,{index:`select-${index}`,disabled:!0})):(NodeList[value]=value,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(childElement,{index:`select-${index}`}));console.error("Warning: Select has a child which is not a Option component")}))})()})})})]})};Select.__docgenInfo={description:"下拉选择器。\r\n弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。\r\n### 引用方法\r\n\r\n~~~js\r\nimport { Select } from 'vanilla-react'\r\n// 然后可以使用 <Select> 和 <Select.Option>\r\n~~~",methods:[],displayName:"Select",props:{defaultValue:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"指定默认选中的条目\t 可以是是字符串或者字符串数组"},placeholder:{required:!1,tsType:{name:"string"},description:"选择框默认文字"},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用"},multiple:{required:!1,tsType:{name:"boolean"},description:"是否支持多选"},name:{required:!1,tsType:{name:"string"},description:"select input 的 name 属性"},isShow:{required:!1,tsType:{name:"boolean"},description:"是否展示当前值",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedValue: string, selectedValues: string[]) => void",signature:{arguments:[{type:{name:"string"},name:"selectedValue"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selectedValues"}],return:{name:"void"}}},description:"选中值发生变化时触发"},onVisibleChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(visible: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"visible"}],return:{name:"void"}}},description:"下拉框出现/隐藏时触发"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>Transition});__webpack_require__("./node_modules/react/index.js");var react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{children,classNames,animation,appear=!0,wrapper,unmountOnExit=!0,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{classNames:classNames||animation,appear:!0,unmountOnExit:!0,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})};Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:"'zoom-in-top' | 'zoom-in-left' | 'zoom-in-bottom' | 'zoom-in-right'",elements:[{name:"literal",value:"'zoom-in-top'"},{name:"literal",value:"'zoom-in-left'"},{name:"literal",value:"'zoom-in-bottom'"},{name:"literal",value:"'zoom-in-right'"}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:""},appear:{defaultValue:{value:"true",computed:!1},required:!1},unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1}}}}}]);